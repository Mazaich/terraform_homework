
Домашнее задание по теме "Введение в Terraform" - Машаев Роман

Задание 1

Задание 1
1. Перейдите в каталог src. Скачайте все необходимые зависимости, использованные в проекте.
2. Изучите файл .gitignore. В каком terraform-файле, согласно этому .gitignore, допустимо сохранить личную, секретную информацию?(логины,пароли,ключи,токен
ы итд)
3. Выполните код проекта. Найдите в state-файле секретное содержимое созданного ресурса random_password, пришлите в качестве ответа конкретный
 ключ и его значение.
4. Раскомментируйте блок кода, примерно расположенный на строчках 29–42 файла main.tf. Выполните команду terraform validate. Объясните,
 в чём заключаются намеренно допущенные ошибки. Исправьте их.
5. Выполните код. В качестве ответа приложите: исправленный фрагмент кода и вывод команды docker ps.
6. Замените имя docker-контейнера в блоке кода на hello_world. Не перепутайте имя контейнера и имя образа. 
Мы всё ещё продолжаем использовать name = "nginx:latest". Выполните команду terraform apply -auto-approve. Объясните своими словами,
в чём может быть опасность применения ключа -auto-approve.
Догадайтесь или нагуглите зачем может пригодиться данный ключ? В качестве ответа дополнительно
приложите вывод команды docker ps.
7. Уничтожьте созданные ресурсы с помощью terraform. Убедитесь, что все ресурсы удалены. Приложите содержимое файла terraform.tfstate.
8. Объясните, почему при этом не был удалён docker-образ nginx:latest. Ответ ОБЯЗАТЕЛЬНО НАЙДИТЕ В ПРЕДОСТАВЛЕННОМ КОДЕ, 
а затем ОБЯЗАТЕЛЬНО ПОДКРЕПИТЕ строчкой из документации terraform провайдера docker. (ищите в классификаторе resource docker_image )


ОТВЕТ:
1.,2.![Скриншот с выводом версии терраформа]() 

Согласно предоставленному файлу .gitignore, личную и секретную информацию (логины, пароли, ключи, токены и т.д.) допустимо сохранять в файле с именем:
personal.auto.tfvars. Эта запись означает, что файл с точным именем personal.auto.tfvars будет игнорироваться системой контроля версий Git 
(не будет добавлен в коммиты).Файлы с расширением .auto.tfvars (или *.auto.tfvars.json) автоматически загружаются Terraform при выполнении
команд terraform plan или terraform apply.Это стандартный способ определения значений переменных без необходимости каждый раз передавать 
их через командную строку или другие методы. Поскольку этот файл указан в .gitignore, ваши секреты не попадут в репозиторий. 
Файл останется только на локальной машине или в защищенном хранилище CI/CD системы (куда его нужно добавить отдельно, безопасным способом).

3. result: yUXm97Ujhv4im1X1

4. ![Скриншот с выводом ошибок после]()
- Ошибка 1: Missing name for resource. У ресурса docker_image отсутствует локальное имя (второй идентификатор). 
В Terraform каждый ресурс должен иметь формат: resource "ТИП_РЕСУРСА" "ЛОКАЛЬНОЕ_ИМЯ" { ... }. Напрмер: resource "docker_image" "nginx"
- Ошибка 2: Invalid resource name. Локальное имя ресурса "1nginx" начинается с цифры 1. По правилам Terraform имена ресурсов могут начинаться 
только с буквы или подчёркивания. Правильно будет, например: resource "docker_container" "nginx" { ... }
- Ошибка 3: Неверная ссылка на random_password. random_string_FAKE, а  должно быть random_string (как определено в коде). Кроме того resulT, а
 должно быть result (регистр имеет значение).
- Ошибка 4: terraform vakidate проходит, однако при попытке terraform plan появляется еще одна ошибка: 
![Скриншот 4 ошибки]()

